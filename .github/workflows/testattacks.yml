name: Test Attacks CI

# Controls when the action will run. Triggers the workflow on push or pull request
# events but only for the master branch
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

# Workflow level environment variables
env:
  ATTACKREPO:  https://raw.githubusercontent.com/cnagda/id-pirated-vid-attackvids/master/attackvids/


# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
       
  # Query with one attack video
  query:
    strategy:
      matrix:
        vid: [CNAU0235000H_exact_match.mp4, CNAU0235000H_exact_match_inserted.mp4]
    runs-on: ubuntu-latest
    steps:
    # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
    - name: checkout main 
      uses: actions/checkout@v2
    
    # Download the video from the attackvids repo
    - name: download video
      run: 
        echo $ATTACKREPO${{ matrix.vid }}
        curl -LJO ${{ ATTACKREPO }}${{ matrix.vid }}
    
          
  # This workflow contains a single job called "build"
#   build:
#     # The type of runner that the job will run on
#     runs-on: ubuntu-latest

#     # Steps represent a sequence of tasks that will be executed as part of the job
#     steps:
#     # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
#     - name: checkout main 
#       uses: actions/checkout@v2
      
#     - name: checkout attackvids
#       uses: actions/checkout@v2
#       with:
#         repository: cnagda/id-pirated-vid-attackvids
#         path: id-pirated-vid-attackvids 

#     # Runs a single command using the runners shell
#     - name: Run a one-line script
#       run: ls id-pirated-vid-attackvids > dirlisting.txt
    
#     - uses: actions/upload-artifact@v1
#       with:
#         name: dirlisting
#         path: dirlisting.txt

#     # Runs a set of commands using the runners shell
#     - name: Run a multi-line script
#       run: |
#         echo Add other actions to build,
#         echo test, and deploy your project.
  
